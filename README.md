# Mindmap Web Application

인터랙티브 마인드맵 웹 애플리케이션입니다. 아이디어를 시각화하고 구조화할 수 있습니다.

## 📁 프로젝트 구조

```
mindmap/
├── index.html              # 메인 HTML 파일
├── css/
│   └── style.css          # 모든 스타일시트
├── js/
│   ├── config.js          # 전역 변수 및 설정
│   ├── utils.js           # 유틸리티 함수들
│   ├── canvas.js          # 캔버스 렌더링
│   ├── nodes.js           # 노드 관리
│   ├── connections.js     # 연결선 관리
│   ├── events.js          # 이벤트 핸들러
│   ├── ui.js              # UI 컨트롤
│   ├── history.js         # Undo/Redo
│   ├── export.js          # PNG/PDF 내보내기
│   ├── storage.js         # 저장/불러오기
│   └── main.js            # 초기화 및 시작
├── data/
│   └── default.json       # 기본 노드 데이터
└── README.md
```

## 🎯 주요 기능

### 노드 관리
- ✅ 더블클릭으로 노드 생성
- ✅ 드래그로 노드 이동
- ✅ 노드 편집 (제목, 내용, 링크)
- ✅ 노드 복제 및 삭제
- ✅ 세 가지 노드 모양 (사각형, 원, 다이아몬드)

### 🤖 AI 추천 시스템 (NEW!)
- ✅ 노드별 자동 정보 추천 (Tavily API 사용)
- ✅ 도메인 필터링 (특정 웹사이트만 검색 가능)
- ✅ 실시간 추천 알림 배지
- ✅ 개별 추천 삭제 기능
- ✅ 브라우저 로컬 저장 (서버 없이 사용)

### 연결선 관리
- ✅ 우클릭 드래그로 노드 연결
- ✅ 연결선 삭제

### 뷰포트 제어
- ✅ 마우스 휠로 줌 인/아웃
- ✅ 마우스 휠 클릭 + 드래그로 캔버스 팬
- ✅ Fit to Screen

### 편집 기능
- ✅ Undo/Redo (최대 50단계)
- ✅ 히스토리 관리

### 데이터 관리
- ✅ LocalStorage에 저장/불러오기
- ✅ PNG 내보내기
- ✅ PDF 내보내기 (A4 가로)

## 🎮 사용 방법

### 🤖 AI 추천 기능 사용하기

#### 1. API 키 발급 (무료)
1. [Tavily](https://tavily.com)에서 회원가입
2. 대시보드에서 API 키 복사
3. **무료 플랜**: 월 1,000건 검색 가능

#### 2. API 키 설정
1. 사이드바에서 **AI 설정** 버튼 클릭
2. API 키 입력란에 붙여넣기
3. "AI 추천 활성화" 체크박스 선택
4. **저장** 버튼 클릭

#### 3. AI 추천 받기
1. 노드를 더블클릭하여 편집 모달 열기
2. **제목**과 **내용** 입력
3. (선택) **AI 검색 도메인** 입력:
   - 예: `github.com, stackoverflow.com, medium.com`
   - 비워두면 모든 웹사이트에서 검색
4. 저장 후 노드에 🔔 알림 배지 표시
5. 배지 클릭하여 추천 목록 확인

#### 4. 보안 주의사항
- ⚠️ **API 키는 브라우저에만 저장**됩니다 (서버 전송 없음)
- 🔒 **공용 컴퓨터**에서는 사용 후 API 키 삭제 권장
- 📊 [사용량 확인](https://app.tavily.com/usage)에서 월간 사용량 체크
- 🗑️ AI 설정 모달에서 **삭제** 버튼으로 API 키 제거

#### 5. 사용 팁
- 노드 제목을 **구체적**으로 작성할수록 정확한 추천
- 도메인 필터로 **신뢰할 수 있는 출처**만 선택
- 추천 항목 개별 삭제 가능 (X 버튼)
- 모든 추천 삭제 시 알림 배지 자동 제거

---

### 마우스 컨트롤
- **더블클릭 (빈 공간)**: 새 노드 생성
- **더블클릭 (노드)**: 노드 편집
- **좌클릭 드래그**: 노드 이동
- **우클릭 드래그**: 노드 연결
- **우클릭 (노드)**: 컨텍스트 메뉴
- **마우스 휠**: 줌 인/아웃
- **마우스 휠 클릭 + 드래그**: 캔버스 팬

### 사이드바 기능
- **Add Node**: 랜덤 위치에 노드 추가
- **Undo/Redo**: 이전/다음 상태로 되돌리기
- **Fit**: 모든 노드가 보이도록 화면 조정
- **Node Style**: 노드 색상, 크기, 모양 설정
- **Export**: PNG 또는 PDF로 내보내기
- **Save/Load**: 마인드맵 저장/불러오기
- **Clear**: 모든 노드 및 연결선 삭제

## 🚀 실행 방법

### 로컬 서버 실행
```bash
# Python이 설치된 경우
python -m http.server 8000

# 브라우저에서 접속
http://localhost:8000
```

### 직접 열기
- `index.html` 파일을 브라우저에서 직접 열기

## 🔧 기술 스택

- **HTML5**: 구조
- **CSS3**: 스타일링
- **JavaScript (ES6+)**: 로직
- **Canvas API**: 그래픽 렌더링
- **jsPDF**: PDF 내보내기
- **LocalStorage**: 데이터 저장
- **Tavily API**: AI 기반 정보 추천 (선택사항)

## 📦 외부 라이브러리

- [jsPDF](https://github.com/parallax/jsPDF) - PDF 생성
- [Tavily API](https://tavily.com) - AI 추천 시스템 (사용자 API 키 필요)

## 🔄 업데이트 내역

### v2.1.0 (2025-10-19)
- 🤖 AI 추천 시스템 추가 (Tavily API)
- 📌 노드별 도메인 필터링 기능
- 🔔 실시간 추천 알림 배지
- 🗑️ 개별 추천 삭제 기능
- 🔒 API 키 보안 가이드 추가
- 📖 사용자 가이드 개선

### v2.0.0 (2025-10-14)
- 파일 구조 모듈화 (HTML, CSS, JS 분리)
- 코드 정리 및 최적화
- roundRect polyfill 추가 (구형 브라우저 지원)
- 누락된 함수들 구현 완료

## 📝 라이선스

MIT License

## 👤 개발자

Majors Studio

## 🐛 알려진 이슈

현재 알려진 이슈가 없습니다.

## 💡 향후 계획

- [ ] 키보드 단축키 추가
- [ ] 노드 색상 프리셋
- [ ] 다양한 연결선 스타일
- [ ] JSON 파일로 가져오기/내보내기
- [ ] 공유 기능
- [ ] 다크 모드

## ❓ FAQ

### Q: API 키 없이도 사용할 수 있나요?
A: 네! AI 추천 기능을 제외한 모든 기능은 API 키 없이 사용 가능합니다.

### Q: API 키가 안전한가요?
A: API 키는 브라우저의 localStorage에만 저장되며, 서버로 전송되지 않습니다. 공용 컴퓨터에서는 사용 후 삭제하세요.

### Q: 무료로 얼마나 사용할 수 있나요?
A: Tavily 무료 플랜은 월 1,000건의 검색을 제공합니다. 개인 사용에는 충분합니다.

### Q: 도메인 필터가 왜 필요한가요?
A: 특정 출처(예: 공식 문서, 학술 사이트)에서만 정보를 검색하여 신뢰성을 높일 수 있습니다.
