# Mindmap Web Application

인터랙티브 마인드맵 웹 애플리케이션입니다. 아이디어를 시각화하고 구조화할 수 있습니다.

##  프로젝트 구조

```
mindmap/
 index.html              # 메인 HTML 파일
 css/
    style.css          # 모든 스타일시트
 js/
    config.js          # 전역 변수 및 설정
    utils.js           # 유틸리티 함수들
    canvas.js          # 캔버스 렌더링
    nodes.js           # 노드 관리
    connections.js     # 연결선 관리
    events.js          # 이벤트 핸들러
    ui.js              # UI 컨트롤
    history.js         # Undo/Redo
    export.js          # PNG/PDF 내보내기
    storage.js         # 저장/불러오기
    main.js            # 초기화 및 시작
 data/
    default.json       # 기본 노드 데이터
 README.md
```

##  주요 기능

### 노드 관리
-  더블클릭으로 노드 생성
-  드래그로 노드 이동
-  노드 편집 (제목, 내용, 링크)
-  **노드별 색상 커스터마이징** (배경색, 텍스트 색상)
-  노드 복제 및 삭제
-  세 가지 노드 모양 (사각형, 원, 다이아몬드)

### 연결선 관리
-  우클릭 드래그로 노드 연결
-  연결선 삭제

### 뷰포트 제어
-  마우스 휠로 줌 인/아웃
-  마우스 휠 클릭 + 드래그로 캔버스 팬
-  Fit to Screen

### 편집 기능
-  Undo/Redo (최대 50단계)
-  히스토리 관리

### 데이터 관리
-  LocalStorage에 저장/불러오기
-  PNG 내보내기
-  PDF 내보내기 (A4 가로)

###  테마
-  라이트/다크 모드 지원
-  자동 테마 저장 (LocalStorage)
-  모든 UI 요소 다크모드 적용
-  심플한 노드 디자인 (그림자 제거)

##  사용 방법

### 마우스 컨트롤
- **더블클릭 (빈 공간)**: 새 노드 생성
- **더블클릭 (노드)**: 노드 편집
- **좌클릭 드래그**: 노드 이동
- **우클릭 드래그**: 노드 연결
- **우클릭 (노드)**: 컨텍스트 메뉴
- **마우스 휠**: 줌 인/아웃
- **마우스 휠 클릭 + 드래그**: 캔버스 팬

### 사이드바 기능
- **/ 테마 토글**: 다크모드/라이트모드 전환
- **Add Node**: 랜덤 위치에 노드 추가
- **Undo/Redo**: 이전/다음 상태로 되돌리기
- **Fit**: 모든 노드가 보이도록 화면 조정
- **Export**: PNG 또는 PDF로 내보내기
- **Save/Load**: 마인드맵 저장/불러오기
- **Clear**: 모든 노드 및 연결선 삭제

** Tip**: 노드를 더블클릭하여 편집 모달에서 개별 노드의 색상과 텍스트 색상을 변경할 수 있습니다!

##  실행 방법

### 로컬 서버 실행
```bash
# Python이 설치된 경우
python -m http.server 8000

# 브라우저에서 접속
http://localhost:8000
```

### 직접 열기
- `index.html` 파일을 브라우저에서 직접 열기

##  기술 스택

- **HTML5**: 구조
- **CSS3**: 스타일링
- **JavaScript (ES6+)**: 로직
- **Canvas API**: 그래픽 렌더링
- **jsPDF**: PDF 내보내기
- **LocalStorage**: 데이터 저장

##  보안

- **XSS 방지**: 사용자 입력 이스케이프 처리 (`escapeHtml`)
- **입력 검증**: 색상값, 파일명 등 형식 검증
- **SRI (Subresource Integrity)**: CDN 라이브러리 무결성 검증

##  외부 라이브러리

- [jsPDF](https://github.com/parallax/jsPDF) - PDF 생성 (SRI 적용)

##  업데이트 내역

### v2.4.0 (2026-02-21)
-  **보안 강화**
  - XSS 방지: 색상 팔레트 입력값 검증 추가
  - SRI 적용: jsPDF CDN 무결성 검증
  - 미사용 AI 모듈 제거

### v2.3.0 (2025-11-05)
-  **노드별 색상 커스터마이징 기능 추가**
  - 각 노드마다 개별 배경색 설정 가능
  - 각 노드마다 개별 텍스트 색상 설정 가능
  - Edit Node 모달에서 color picker로 손쉽게 변경
-  사이드바 Node Style 섹션 제거 (개별 노드 설정으로 대체)

### v2.2.0 (2025-11-05)
-  다크모드 지원 추가
-  CSS 변수 시스템으로 테마 관리
-  심플한 노드 디자인 (그림자 제거)
-  모든 UI 요소 다크모드 적용
-  테마 설정 자동 저장

### v2.0.0 (2025-10-14)
- 파일 구조 모듈화 (HTML, CSS, JS 분리)
- 코드 정리 및 최적화
- roundRect polyfill 추가 (구형 브라우저 지원)
- 누락된 함수들 구현 완료

##  라이선스

MIT License

##  개발자

Majors Studio

##  알려진 이슈

현재 알려진 이슈가 없습니다.

##  향후 계획

- [ ] 키보드 단축키 추가
- [ ] 노드 색상 프리셋
- [ ] 다양한 연결선 스타일
- [ ] JSON 파일로 가져오기/내보내기
- [ ] 공유 기능
